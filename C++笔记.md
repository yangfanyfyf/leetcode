# 1. 编译相关

### C++的编译过程：

1. 编译预处理：处理#开头的指令
2. 编译，优化：将源码，也就是.cpp文件，翻译为.s汇编代码
3. 汇编：将.s汇编代码翻译为.o机器指令文件
4. 链接：将.cpp文件中的函数调用或者对其他文件的引用链接，使之成为一个整体，从而生成.exe可执行文件
   + 链接分为静态链接和动态链接
   + 静态链接占用空间，但是性能更好



### C++内存管理

+ 内存主要有：栈，堆，全局/静态存储区，常量存储区，代码区
+ 栈：存放函数的局部变量，函数参数，返回地址
+ 堆：动态申请的内存空间，由程序员控制其分配和释放
+ 全局区/静态存储区：存放全局变量和静态变量
+ 常量存储区：存放的是常量，不允许修改，运行结束后自动释放
+ 代码区：存放代码，不允许修改，但是可以执行，编译后的二进制文件会存放在这里



+ 栈和堆的区别：
  + 栈自动分配，堆手动申请
  + 栈空间在内存中连续分布，最大容量由系统确定，分配栈空间时，如果剩余空间不足以分配，那么分配失败导致栈溢出，一般用于存放局部变量和函数参数
  + 堆在内存中的空间是不是连续的，其分布类似于链表



### 变量的区别

+ 主要有4种变量
+ 全局变量
+ 静态全局变量
+ 局部变量，存储于栈中，其他所有的都存储于静态存储区
+ 静态局部变量



+ static和const的区别

  + static修饰局部变量，改变变量的生命周期，变量会存储在静态存储区中

    静态函数在类内定义，类外初始化，不与任何对象绑定，可以加上作用域运算符，在类外直接访问

    成员函数可以直接访问（全局变量可以被所有的函数访问）

  + const修饰右侧的变量，将其变为只读

+ 不能再头文件中定义全局变量？

  因为当这个头文件被多次include时，全局变量会被定义多次，导致重复定义

  可以使用extern，表明该变量声明而没有定义（没有初始值），变量可以多次声明，却只能定义一次。

